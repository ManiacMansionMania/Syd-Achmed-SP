// Flur im ersten Stock (Syd)

/****************************
*   Raum-Funktionen
****************************/
function room_Load()
{
	oTuer.init_object(9);
	oTuerStahl.Clickable = false; // kein Raum dahinter, aber schon mal die offene Grafik eingebaut.
}

function room_AfterFadeIn()
{
	PlayMusic(26);
}


/****************************
*   Tür-Hotspot-Funktionen
****************************/



/****************************
*   Objekt-Funktionen
****************************/



/****************************
*   Hotspot-Funktionen
****************************/
function hTuer_AnyClick()
{
	// nur Achmed erlauben die Tür zu öffnen
	if ( cAchmed == player )
	{
		if ( any_click_on_door(9, oTuer, 383, 122, eDirUp, 20, 31, 134, eDirRight) == 0 ) Unhandled ();
	}
	else
	{
		if (any_click_move(383, 122, eDirUp))
		{
			// nur einkommentieren, wenn andere Personen auch bei offener Tür herinkommen sollen
			 /*if ( oTuer.Visible )
			 {
				 if ( any_click_on_door(9, oTuer, 383, 122, eDirUp, 20, 31, 134, eDirRight) == 0 ) Unhandled ();
			 }
			 else*/
			 {
				if (UsedAction(eActWalkTo))
				{
				//	Wait(5);
				}
				else if (UsedAction(eActClose) && oTuer.Visible == true)
				{
					if ( any_click_on_door(9, oTuer, 383, 122, eDirUp, 20, 31, 134, eDirRight) == 0 ) Unhandled ();
				}
				else
				{
					player.Say("Ich sollte wohl klingeln.");
				}
			}
		}
	}
}

function hEisentuer_AnyClick()
{
	if (any_click_move(138, 126, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Achmed sich stets fragen: Was sein hinter Tür?"))
				player.Say("Was war nochmal hinter dieser Tür?");
			if ( !cAchmed.SayIfPlayer("Vielleicht Labor oder Schrank mit Besen?"))
				player.Say("Besenkammer? Waschküche? Keller?");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("???");
		}
		else if (UsedAction(eActUse) || UsedAction(eActOpen))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Verschlossen sein."))
				player.Say("Die ist verschlossen.");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Sein schon zu."))
				player.Say("Ist schon zu.");
		}
		else if (UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("???");
		}
		else Unhandled();
	}
}

function hBriefkaesten_AnyClick()
{
	if (any_click_move(255, 128, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Das sein sehr viele schöne Kasten."))
				player.Say("Jeder Mieter hat hier einen eigenen Briefkasten.");
			player.FaceDirection(eDirDown);
			if ( !cAchmed.SayIfPlayer("Wo Achmeds bloß sein?"))
				player.Say("Welcher gehört mir eigentlich?");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Achmed nix brauchen Briefdings."))
				player.Say("Vielleicht sollte ich ihn einfach nehmen.");
		}
		else if (UsedAction(eActUse))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Wo haben Achmed seinen Schlüssel?"))
				player.Say("Ich habe den Schlüssel nicht dabei...");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Ohne Schlüssel?"))
				player.Say("Und da ich momentan keine davon brauche, lass ich es.");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Sein zu."))
				player.Say("Die sind schon zu.");
		}
		else if (UsedAction(eActPull))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Ohne Schlüssel?"))
				player.Say("Vielleicht sollte ich ihn einfach nehmen.");
		}
		else if (UsedAction(eActPush))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Gut."))
				player.Say("Damit er umfällt?");
		}
		else Unhandled();
	}
}

function hTuerklingel_AnyClick()
{
	if (any_click_move(414, 127, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Das sein Achmeds Türklingel."))
				player.Say("Das ist Achmeds Türklingel.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("Nix da.");
		}
		else if (UsedAction(eActUse) ||UsedAction(eActPush))
		{
			Wait(5);
			PlaySound(99);
      Wait(100);
			if ( !cAchmed.SayIfPlayer("Nix öffnet."))
				player.Say("Es öffnet niemand.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			player.Say("Ja klar.");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			player.Say("Warum?");
		}
		else if (UsedAction(eActPull))
		{
			Wait(5);
			player.Say("Nix da.");
		}
		else Unhandled();
	}
}

function hFeuerloescher_AnyClick()
{
	if (any_click_move(444, 126, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Löschen von brennenden Feuer."))
				player.Say("In dem Kasten ist der Feuerlöscher.");
			player.FaceDirection(eDirDown);
			if ( !cAchmed.SayIfPlayer("Wo brennt?"))
				player.Say("Das ist so Vorschrift.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Nix brennt, also Achmed auch nicht brauchen."))
				player.Say("Vielleicht sollte ich ihn einfach nehmen.");
		}
		else if (UsedAction(eActUse))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Hier sein kein Feuer!"))
				player.Say("Nein, nur in Notfällen!");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Nix Notfall jetzt."))
				player.Say("Und da ich momentan keine davon brauche, lass ich es.");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Sein schon zu."))
				player.Say("Das ist schon zu.");
		}
		else if (UsedAction(eActPull))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Bewegt sich nicht."))
				player.Say("Nein.");
		}
		else if (UsedAction(eActPush))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Sollen umfallen, ja?"))
				player.Say("Damit er umfällt?");
		}
		else Unhandled();
	}
}

function hMuelleimer_AnyClick()
{
	if (any_click_move(475, 135, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Das sein Eimer für Müll."))
				player.Say("Das ist der Mülleimer.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Nein Effendi."))
				player.Say("Warum?");
		}
		else if (UsedAction(eActUse))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Achmed nix haben zum tun rein."))
				player.Say("Wenn ich was habe zum Reinwerfen.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Das sein bereits auf."))
				player.Say("Ist bereits auf.");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Eimer nix haben Deckel."))
				player.Say("Der hat keinen Deckel.");
		}
		else if (UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Pffft.");
		}
		else Unhandled();
	}
}

function hLueftungsschacht_AnyClick()
{
	if (any_click_move(82, 130, eDirLeft))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Sein Lüftungsschacht."))
				player.Say("Ein Lüftungsschacht.");
		}
		else if (UsedAction(eActPickUp) || UsedAction(eActUse))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Warum?"))
				player.Say("Keine Lust.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Das bleiben zu."))
				player.Say("Das erinnert mich an früher, als ich hier mal ein Stück Käse versteckt hatte...");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			if ( !cAchmed.SayIfPlayer("Sein schon zu."))
				player.Say("Das ist schon zu.");
		}
		else if (UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Nix da.");
		}
		else Unhandled();
	}
}

function hDraussen_AnyClick()
{
	if (any_click_move(47, 134, eDirLeft))
	{
    Wait(5);
    player.ChangeRoom(7, 265, 123);
    player.FaceDirection(eDirDown);
	}
}

function hTreppe_AnyClick()
{
	if (any_click_move(528, 14, eDirUp))
	{
    Wait(5);
    player.ChangeRoom(6, 47, 134);
    player.FaceDirection(eDirRight);
	}
}


/****************************
*   Regionen-Funktionen
****************************/
